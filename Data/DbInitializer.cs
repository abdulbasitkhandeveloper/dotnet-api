using System;
using System.Collections.Generic;
using System.Linq;
using System.Threading.Tasks;
using API.Entities;
using Microsoft.EntityFrameworkCore;

namespace API.Data
{
    public class DbInitializer
    {
         public static void initDb(WebApplication app)
         {
            using var scope = app.Services.CreateScope();
            var context = scope.ServiceProvider.GetRequiredService<StoreContext>()
                ?? throw new InvalidOperationException("Fail to retrieve store context");

                Console.WriteLine("Seeding data...");
            SeedData(context);
            Console.WriteLine("Data seeding completed.");
         }

        private static void SeedData(StoreContext context)
        {
            context.Database.Migrate();
            
            if (context.Products.Any()) return;

            var products = new List<Product>
            {
            new Product { Id = 1, Name = "Samsung Galaxy S23", Description = "Latest smartphone with advanced features", Price = 79999, PictureUrl = "https://images.unsplash.com/photo-1662947995643-0007c2b5ebb6?fm=jpg&q=60&w=3000&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8c2Ftc3VuZyUyMGxvZ298ZW58MHx8MHx8fDA%3D", Type = "Electronics", Brand = "Samsung", QuantityStock = 100 },
            new Product { Id = 2, Name = "Sony WH-1000XM5", Description = "Noise-cancelling wireless headphones", Price = 29999, PictureUrl = "data:image/jpeg;base64,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", Type = "Electronics", Brand = "Sony", QuantityStock = 50 },
            new Product { Id = 3, Name = "Adidas Ultraboost", Description = "Comfortable running shoes for daily use", Price = 14999, PictureUrl = "https://d16aymak0y9zsb.cloudfront.net/Sportsplus/product/1080x1080/21022024/GW3848_1_1703767963-391622208061.jpg", Type = "Clothing", Brand = "Adidas", QuantityStock = 200 },
            new Product { Id = 4, Name = "Dell XPS 15", Description = "High-performance laptop with a sleek design", Price = 179999, PictureUrl = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTvs5LSPvof13EprkI6rDGwTGYnQ6pqf7N_hg&s", Type = "Electronics", Brand = "Dell", QuantityStock = 30 },
            new Product { Id = 5, Name = "Apple MacBook Air", Description = "Lightweight and powerful laptop", Price = 99999, PictureUrl = "https://www.shutterstock.com/image-illustration/macbook-pro-2023-m2-chip-600nw-2328203513.jpg", Type = "Electronics", Brand = "Apple", QuantityStock = 25 },
            new Product { Id = 6, Name = "Nike Air Max", Description = "Stylish sneakers for casual wear", Price = 12999, PictureUrl = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRlAHSjq7Gk3-FboSL_OMkC42bdCkxD12e4mw&s", Type = "Clothing", Brand = "Nike", QuantityStock = 150 },
            new Product { Id = 7, Name = "Kindle Paperwhite", Description = "E-book reader with a glare-free screen", Price = 15999, PictureUrl = "https://5.imimg.com/data5/SF/FA/MY-9503043/kindle-basic-white-500x500.jpg", Type = "Books", Brand = "Amazon", QuantityStock = 80 },
            new Product { Id = 8, Name = "Logitech MX Master 3", Description = "Ergonomic wireless mouse for productivity", Price = 9999, PictureUrl = "https://resource.logitech.com/w_386,ar_1.0,c_limit,f_auto,q_auto,dpr_2.0/d_transparent.gif/content/dam/logitech/en/products/mice/m190-wireless-mouse/m190-wireless-mouse-red-gallery-01.png?v=1", Type = "Electronics", Brand = "Logitech", QuantityStock = 70 },
            new Product { Id = 9, Name = "Herman Miller Chair", Description = "Ergonomic office chair for comfort", Price = 79999, PictureUrl = "https://ukstore.hermanmiller.com/cdn/shop/products/02-Herman_Miller-Aeron-Graphite-Standard_2bde62d3-c4c5-4696-b4ba-b121f201a87c.jpg?height=1180&v=1665747538&width=400", Type = "Furniture", Brand = "Herman Miller", QuantityStock = 20 },
            new Product { Id = 10, Name = "Dyson V15 Vacuum", Description = "Powerful cordless vacuum cleaner", Price = 59999, PictureUrl = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSdoNFdIXD73IDe8jnVp5-JhM-zagwLoYQOXA&s", Type = "Home Appliances", Brand = "Dyson", QuantityStock = 40 },
            new Product { Id = 11, Name = "Canon EOS R6", Description = "Professional mirrorless camera", Price = 219999, PictureUrl = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRFBpxTfYE9cnJLKEvg6KLdS5WomnyJfiFz7Sq1dv_y3LVl2RyMIw5DMDQCzLh17fTm_Cw&usqp=CAU", Type = "Electronics", Brand = "Canon", QuantityStock = 15 },
            new Product { Id = 12, Name = "Lego Technic Bugatti", Description = "Advanced building set for car enthusiasts", Price = 25999, PictureUrl = "https://media.istockphoto.com/id/458700311/photo/lego-blocks.jpg?s=612x612&w=0&k=20&c=vYpt1BWI6AqKSMHt4nch2HKIaK_s46tEhxbG8DYqDho=", Type = "Toys", Brand = "Lego", QuantityStock = 100 },
            new Product { Id = 13, Name = "Apple Watch Series 8", Description = "Smartwatch with health tracking features", Price = 35999, PictureUrl = "https://media.istockphoto.com/id/496730484/photo/apple-watch-sport-42mm-silver-aluminum-case-with-white-band.jpg?s=612x612&w=0&k=20&c=RY2MGp4S-OVqAZm1ZCUDhM6KSmfAJ02RU51l4mJa2EA=", Type = "Electronics", Brand = "Apple", QuantityStock = 60 },
            new Product { Id = 14, Name = "Samsung Smart TV 55\"", Description = "4K Ultra HD Smart TV with vibrant colors", Price = 79999, PictureUrl = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQphPztZ1pwgTrapPDjfbq7Jt-uemAvJ875fQ&s", Type = "Electronics", Brand = "Samsung", QuantityStock = 35 },
            new Product { Id = 15, Name = "HP LaserJet Pro", Description = "Efficient laser printer for office use", Price = 19999, PictureUrl = "https://in-media.apjonlinecdn.com/catalog/product/cache/b3b166914d87ce343d4dc5ec5117b502/6/U/6UU48A-1_T1680354480.png", Type = "Electronics", Brand = "HP", QuantityStock = 50 },
            new Product { Id = 16, Name = "Columbia Hiking Jacket", Description = "Waterproof and durable outdoor jacket", Price = 10999, PictureUrl = "https://images.outdoorandcountry.co.uk/image/upload/c_pad,b_white,w_312,h_374,f_auto,q_auto/v1722937583/product/390630.jpg", Type = "Clothing", Brand = "Columbia", QuantityStock = 120 },
            new Product { Id = 17, Name = "Instant Pot Duo", Description = "Multi-functional electric pressure cooker", Price = 11999, PictureUrl = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRCNHbhe3ND7ZV0YGvGjpktMyuyMtfhBX0lQw&s", Type = "Home Appliances", Brand = "Instant Pot", QuantityStock = 85 },
            new Product { Id = 18, Name = "Sony PlayStation 5", Description = "Next-generation gaming console", Price = 49999, PictureUrl = "https://cdn.mos.cms.futurecdn.net/HkdMToxijoHfz4JwUgfh3G-1200-80.jpg", Type = "Electronics", Brand = "Sony", QuantityStock = 10 },
            new Product { Id = 19, Name = "Casio G-Shock Watch", Description = "Durable and stylish digital watch", Price = 8999, PictureUrl = "https://gshock.casio.com/content/casio/locales/us/en/brands/gshock/products/collection/hidden-glow/_jcr_content/root/responsivegrid/container_copy/container_1689197747_178965006/teaser_copy.casiocoreimg.jpeg/1731367976345/hiddenglow-cai-800x800.jpeg", Type = "Accessories", Brand = "Casio", QuantityStock = 200 },
            new Product { Id = 20, Name = "Blue Yeti Microphone", Description = "Professional USB microphone for streaming", Price = 12999, PictureUrl = "https://alhamdtech.pk/cdn/shop/files/blue-yeti-usb-mic-for-recording-703245.png?v=1722252280", Type = "Electronics", Brand = "Blue", QuantityStock = 50 }
            };

            context.Products.AddRange(products);

            context.SaveChanges();
        }
    } 
}
